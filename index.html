<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lambda Functions Example</title>
<script>
// Fetch data to populate the selection menus
document.addEventListener('DOMContentLoaded', function() {
  fetch('https://https://pu14ug6ii9.execute-api.us-east-2.amazonaws.com/default/digixp_231030_x').then(function(response) {
    return response.json();
  }).then(function(data) {
    // Assuming data is an object like { menu1: ['option1', 'option2'], menu2: ['option3', 'option4'], menu3: ['option5', 'option6'] }
    for (const menu in data) {
      const selectElement = document.getElementById(menu);
      data[menu].forEach(function(option) {
        const optionElement = document.createElement('option');
        optionElement.value = option;
        optionElement.text = option;
        selectElement.appendChild(optionElement);
      });
    }
  }).catch(function(error) {
    console.error('Error:', error);
  });
});

function sendSelections() {
  const selection1 = document.getElementById('menu1').value;
  const selection2 = document.getElementById('menu2').value;
  const selection3 = document.getElementById('menu3').value;

  const selections = { selection1, selection2, selection3 };

  fetch('https://g6a6uagj29.execute-api.us-east-2.amazonaws.com/default/digixp_231030_x_1', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(selections),
  }).then(function(response) {
    return response.json();
  }).then(function(result) {
    document.getElementById('result').textContent = result.combinedResult;
  }).catch(function(error) {
    console.error('Error:', error);
  });
}
</script>
</head>
<body>
<h1>Select Options</h1>
<select id="menu1"></select>
<select id="menu2"></select>
<select id="menu3"></select>
<button onclick="sendSelections()">Submit</button>
<div id="result"></div>
</body>
</html>
